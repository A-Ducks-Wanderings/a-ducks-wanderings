{
    id: "gomp",
    solid_dimensions: ["~common"],
    editor_info: {
        category: "enemies"
    },
    properties: {
        gravity: { type: "decimal", default: 1.0, persistent: false },
    },

    on_end_walk_anim: "[
        set(animation, 'walk')
    ]",

    on_end_stomped_anim: "[
        set(hitpoints, 0)
    ]",

	on_collide_object_item: "[
        if(arg.collide_with is obj charles, [
            if(not charles.is_invulnerable = true, [
                add(charles.hitpoints, -1),
                set(charles.animation, 'hurt')
            ])
        ] where charles = arg.collide_with) 
	]",

    on_process: "[
        add(speed_y, gravity);
        if(abs(speed_y) < 1, [
            set(speed_y, 0)
        ])
    ]",

    on_process_walk: "[
        add(velocity_x, if(facing = 1, 12, -12)),
        if(abs(velocity_x) >= 120, [
            set(velocity_x, if(facing = 1, 120, -120))
        ])
    ]",

    on_process_stomped: "[
        set(velocity_x, 0)
    ]",

    on_collide_side: "[
        if(not arg.collide_with is obj charles, [
            set(facing, -facing),
            add(velocity_x, if(facing = 1, 10, -10))
        ])
    ]",

    animation: [
        {
            id: "walk",
            image: "enemies/gomp.png",
            pad: 0,
            rect: [0, 0, 15, 15],
            solid_area: [0, 5, 15, 15],
            frames: 6,
            duration: 4,
            item_area: [0, 0, 15, 15]
        },
        {
            id: "stomped",
            image: "enemies/gomp.png",
            pad: 0,
            rect: [96, 0, 111, 15],
            frames: 1,
            duration: 1000,
            accel_y: 0
        }
    ]
}